
# Tiles and Camera


```jres
{
    "transparency16": {
        "data": "hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==",
        "mimeType": "image/x-mkcd-f4",
        "tilemapTile": true
    },
    "tile1": {
        "data": "hwQQABAAAADMzMzMzMzMzLy7u7u7u7vLvMvMzMzMvMu8vMzMzMzLy7zMy8zMvMzLvMy8zMzLzMu8zMzLvMzMy7zMzLzLzMzLvMzMvMvMzMu8zMzLvMzMy7zMvMzMy8zLvMzLzMy8zMu8vMzMzMzLy7zLzMzMzLzLvLu7u7u7u8vMzMzMzMzMzA==",
        "mimeType": "image/x-mkcd-f4",
        "tilemapTile": true
    },
    "tile2": {
        "data": "hwQQABAAAAAiIiIiIiIiIkJEREREREQkQiIiIiIiIiRCIiIiIiIiJEIiREQiIiIkQkJERCIkJCRCQiREJCQkJEJCREQiQiIkQkJERCRCIiRCQiREIiQkJEIiREQkJCQkQiIiIiIiIiRCIiIiIiIiJEIiIiIiIiIkQkRERERERCQiIiIiIiIiIg==",
        "mimeType": "image/x-mkcd-f4",
        "tilemapTile": true
    },
    "tile3": {
        "data": "hwQQABAAAAB3d3d3d3d3d1dVVVVVVVV1V3d3d3d3d3VXd3d3d3d3dVdXVVVVVXd1V1dXV3d3d3VXV3VVd3d3dVdXV1d3d3d1V3d1dXV3d3VXd1VXdXd3dVd3dXV1d3d1V3dVVXV3d3VXd3d3d3d3dVd3d3d3d3d1V1VVVVVVVXV3d3d3d3d3dw==",
        "mimeType": "image/x-mkcd-f4",
        "tilemapTile": true
    },
    "tile4": {
        "data": "hwQQABAAAABERERERERERFRVVVVVVVVFVEREREREREVURFRFRERERVRERVRERERFVFRVVUVEREVUVFVVVURFRVRUVVVVVUVFVFRVVVVVRUVUVFVVVURFRVRUVVVFRERFVERFVEREREVURFRFRERERVRERERERERFVFVVVVVVVUVERERERERERA==",
        "mimeType": "image/x-mkcd-f4",
        "tilemapTile": true
    },
    "tile5": {
        "data": "hwQQABAAAACqqqqqqqqqqrq7u7u7u7uruqqqqqqqqqu6qqqqqqqqq7qqqqqqqqqruqqqqqqqqqu6qrurqqqqq7q6u7u7uqururq7u7u6q6u6qrurqqqqq7qqqqqqqqqruqqqqqqqqqu6qqqqqqqqq7qqqqqqqqqruru7u7u7u6uqqqqqqqqqqg==",
        "mimeType": "image/x-mkcd-f4",
        "tilemapTile": true
    },
    "level": {
        "id": "level",
        "mimeType": "application/mkcd-tilemap",
        "data": "MTAxZTAwMGEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA0MDAwMDAwMDAwMDAwMDQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAzMDAwMDAwMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMTAxMDEwMDAwMDEwMDAwMDUwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEwMTAxMDEwMTAxMDEwMTAxMDEwMDAwMDAwMDAwMDUwMDAwMDAwMDAwMDUwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyMDAwMDIwMDAwMDAwMDAwMDAwMDAwMDIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjIwMjIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDIwMjIyMjIyMjIwMjAwMDAwMDAwMDAyMDIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMg==",
        "tileset": [
            "myTiles.transparency16",
            "myTiles.tile1",
            "myTiles.tile3",
            "myTiles.tile4",
            "myTiles.tile5",
            "myTiles.tile2"
        ]
    },
    "*": {
        "mimeType": "image/x-mkcd-f4",
        "dataEncoding": "base64",
        "namespace": "myTiles"
    }
}
```

```template
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.vy = -200
})
let mySprite: Sprite = null
scene.setBackgroundColor(11)
mySprite = sprites.create(img`
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
    3 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 1 1 1 3 3 3 1 3 3 3 1 3
    3 1 3 3 1 3 3 1 3 1 1 3 3 3 1 3
    3 1 3 3 1 3 3 1 3 3 1 3 3 3 1 3
    3 1 3 3 1 1 1 3 3 3 1 3 3 3 1 3
    3 1 3 3 1 3 3 3 3 3 1 3 3 3 1 3
    3 1 3 3 1 3 3 3 3 1 1 1 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
    `, SpriteKind.Player)
mySprite.ay = 500
controller.moveSprite(mySprite, 100, 0)
tiles.setTilemap(tilemap`level`)
```

## B·∫Øt ƒë·∫ßu! @unplugged


Trong b√†i n√†y ch√∫ng ta s·∫Ω thi·∫øt k·∫ø y·∫øu t·ªë th·∫Øng - thua trong tr√≤ ch∆°i.

![Ti·∫øn h√†nh ch·ªânh s·ª≠a tr√≤ ch∆°i](/static/skillmaps/platformer/platformer2.gif "Time to live dangerously!")


## ƒê·∫∑t g√≥c nh√¨n

Khi ta di chuy·ªÉn nh√¢n v·∫≠t ch√≠nh xung quanh, ta th·∫•y g√≥c nh√¨n tr√™n m√†n h√¨nh kh√¥ng ƒë·ªïi, ƒëi·ªÅu n√†y d·∫´n t·ªõi vi·ªác kh√≥ theo d√µi nh√¢n v·∫≠t, th·∫≠m ch√≠ nh√¢n v·∫≠t c√≥ th·ªÉ bi·∫øn m·∫•t khi nh·∫£y ra ngo√†i m√†n h√¨nh.  

Ta ph·∫£i kh·∫Øc ph·ª•c v·∫•n ƒë·ªÅ n√†y
<hr/>

üî≤ K√©o kh·ªëi ``||scene:camera follow sprite [mySprite]||`` v√† th·∫£ v√†o khay 
 ``||loops:on start||``.
<br/>

```blocks
let mySprite: Sprite = null
scene.setBackgroundColor(11)
mySprite = sprites.create(img`
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
    3 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 1 1 1 3 3 3 1 3 3 3 1 3
    3 1 3 3 1 3 3 1 3 1 1 3 3 3 1 3
    3 1 3 3 1 3 3 1 3 3 1 3 3 3 1 3
    3 1 3 3 1 1 1 3 3 3 1 3 3 3 1 3
    3 1 3 3 1 3 3 3 3 3 1 3 3 3 1 3
    3 1 3 3 1 3 3 3 3 1 1 1 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
    `, SpriteKind.Player)
mySprite.ay = 500
controller.moveSprite(mySprite, 100, 0)
tiles.setTilemap(tilemap`level`)
// @highlight
scene.cameraFollowSprite(mySprite)
```

## ƒê·∫∑t ƒëi·ªÉm xu·∫•t ph√°t

üé• Sau khi ch·ªânh g√≥c nh√¨n, ta c√≥ th·ªÉ theo s√°t nh√¢n v·∫≠t c·ªßa m√¨nh üé•  

Ti·∫øc r·∫±ng, nh√¢n v·∫≠t c√≥ th·ªÉ s·∫Ω xu·∫•t hi·ªán ·ªü v·ªã tr√≠ kh√¥ng thu·∫≠n l·ª£i m·ªói khi b·∫Øt ƒë·∫ßu l·∫°i!

Th√¥ng th∆∞·ªùng nh√¢n v·∫≠t s·∫Ω xu·∫•t hi·ªán ·ªü ch√≠nh gi·ªØa m√†n h√¨nh. ƒê·ªÉ ƒë·∫£m b·∫£o nh√¢n v·∫≠t s·∫Ω xu·∫•t hi·ªán ·ªü 1 v·ªã tr√≠ an to√†n, h√£y ti·∫øn h√†nh m·ªôt v√†i ch·ªânh s·ª≠a nh√©!
<hr/>

üî≤ K√©o kh·ªëi ``||scene:place [mySprite] on top of random [ ]||`` v√† th·∫£ v√†o 
cu·ªëi khay ``||loops:on start||``.

üî≤ K√≠ch v√†o √¥ vu√¥ng x√°m v√† ƒë·ªïi sang bi·ªÉu t∆∞·ª£ng l√° c·ªù m√†u xanh l√°.
<hr/>
**V·∫≠y l√† v·ªã tr√≠ l√° c·ªù xanh tr√™n b·∫£n ƒë·ªì s·∫Ω l√† v·ªã tr√≠ xu·∫•t ph√°t c·ªßa nh√¢n v·∫≠t**  

>> *M·∫πo: Di chuy·ªÉn l√° c·ªù m√†u xanh l√° trong [__tilemap__](#tilemp "m·∫°ng l∆∞·ªõi c√°c √¥ vu√¥ng t·∫°o n√™n m√†n h√¨nh n·ªÅn tr√≤ ch∆°i") ƒë·ªÉ thay ƒë·ªïi v·ªã tr√≠ xu·∫•t ph√°t c·ªßa nh√¢n v·∫≠t ch√≠nh.
```blocks
let mySprite: Sprite = null
scene.setBackgroundColor(11)
mySprite = sprites.create(img`
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
    3 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 1 1 1 3 3 3 1 3 3 3 1 3
    3 1 3 3 1 3 3 1 3 1 1 3 3 3 1 3
    3 1 3 3 1 3 3 1 3 3 1 3 3 3 1 3
    3 1 3 3 1 1 1 3 3 3 1 3 3 3 1 3
    3 1 3 3 1 3 3 3 3 3 1 3 3 3 1 3
    3 1 3 3 1 3 3 3 3 1 1 1 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
    `, SpriteKind.Player)
mySprite.ay = 500
controller.moveSprite(mySprite, 100, 0)
tiles.setTilemap(tilemap`level`)
scene.cameraFollowSprite(mySprite)
// @highlight
tiles.placeOnRandomTile(mySprite, myTiles.tile3)
```

## C∆° ch·∫ø thua cu·ªôc (Ph·∫ßn 1)

üíÄ B√¢y gi·ªù ta s·∫Ω cho game th√™m ch√∫t *th·ª≠ th√°ch* nh√© üíÄ  

N·∫øu nh√¢n v·∫≠t di chuy·ªÉn ch·∫°m v√†o bi·ªÉu t∆∞·ª£ng ƒë·∫ßu l√¢u, m√†n h√¨nh hi·ªán l√™n bi·ªÉu t∆∞·ª£ng thua cu·ªôc: "GAME OVER".
<hr/>

üî≤ H√£y k√©o khay ``||scene:on [sprite] of kind [Player] overlaps [ ] at [location]||`` th·∫£ v√†o m√†n h√¨nh.

üî≤ K√≠ch v√†o √¥ vu√¥ng x√°m v√† ƒë·ªïi sang bi·ªÉu t∆∞·ª£ng ƒë·∫ßu l√¢u (m√†u ƒë·ªè)).

üî≤ K√©o ti·∫øp kh·ªëi ``||game:game over <LOSE>||`` th·∫£ v√†o khay m·ªõi t·∫°o.
<br/>

```blocks
scene.onOverlapTile(SpriteKind.Player, myTiles.tile2, function (sprite, location) {
    game.over(false)
})
```

## C∆° ch·∫ø th·∫Øng cu·ªôc (Ph·∫ßn 1)

üéà C√≥ thua th√¨ s·∫Ω ph·∫£i c√≥ th·∫Øng üéà  
<hr/>

üî≤ K√©o khay ``||scene:on [sprite] of kind [Player] overlaps [ ] at [location]||`` 
th·∫£ ra ngo√†i m√†n h√¨nh.

üî≤ V·∫´n k√≠ch v√†o √¥ vu√¥ng x√°m, nh∆∞ng l·∫ßn n√†y ƒë·ªïi sang bi·ªÉu t∆∞·ª£ng c√∫p chi·∫øn th·∫Øng.

üî≤ K√©o kh·ªëi ``||game:game over <LOSE>||`` th·∫£ v√†o khay v·ª´a t·∫°o, ƒë·ªìng th·ªùi ƒë·ªïi gi√° tr·ªã &lt;LOSE&gt; th√†nh &lt;WIN&gt;!
<br/>

```blocks
scene.onOverlapTile(SpriteKind.Player, myTiles.tile4, function (sprite, location) {
    game.over(true)
})
```

## K·∫øt th√∫c

**V·∫≠y l√† xong!**

Gi·ªù ch√∫ng ta ƒë√£ c√≥ 1 game platform c∆° b·∫£n v·ªõi ƒë·ªß c∆° ch·∫ø th·∫Øng v√† thua cu·ªôc.

N·∫øu mu·ªën, b·∫°n c√≥ th·ªÉ m·ªü c√¥ng c·ª• [__tilemap__](#tilemp "m·∫°ng l∆∞·ªõi c√°c √¥ vu√¥ng t·∫°o n√™n m√†n h√¨nh n·ªÅn tr√≤ ch∆°i") 
v√† ch·ªânh s·ª≠a theo √Ω m√¨nh.
<hr/> 

>> *M·∫πo: Nh·ªõ s·ª≠ d·ª•ng c√°c c√¥ng c·ª• t·∫°o ra b·ª©c t∆∞·ªùng ƒë·ªÉ ngƒÉn ch·∫∑n kh√¥ng cho nh√¢n v·∫≠t di chuy·ªÉn ƒë·∫øn c√°c khu v·ª±c b·∫°n kh√¥ng mu·ªën!*
