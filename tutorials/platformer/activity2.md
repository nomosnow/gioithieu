
# Tiles and Camera


```jres
{
    "transparency16": {
        "data": "hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==",
        "mimeType": "image/x-mkcd-f4",
        "tilemapTile": true
    },
    "tile1": {
        "data": "hwQQABAAAADMzMzMzMzMzLy7u7u7u7vLvMvMzMzMvMu8vMzMzMzLy7zMy8zMvMzLvMy8zMzLzMu8zMzLvMzMy7zMzLzLzMzLvMzMvMvMzMu8zMzLvMzMy7zMvMzMy8zLvMzLzMy8zMu8vMzMzMzLy7zLzMzMzLzLvLu7u7u7u8vMzMzMzMzMzA==",
        "mimeType": "image/x-mkcd-f4",
        "tilemapTile": true
    },
    "tile2": {
        "data": "hwQQABAAAAAiIiIiIiIiIkJEREREREQkQiIiIiIiIiRCIiIiIiIiJEIiREQiIiIkQkJERCIkJCRCQiREJCQkJEJCREQiQiIkQkJERCRCIiRCQiREIiQkJEIiREQkJCQkQiIiIiIiIiRCIiIiIiIiJEIiIiIiIiIkQkRERERERCQiIiIiIiIiIg==",
        "mimeType": "image/x-mkcd-f4",
        "tilemapTile": true
    },
    "tile3": {
        "data": "hwQQABAAAAB3d3d3d3d3d1dVVVVVVVV1V3d3d3d3d3VXd3d3d3d3dVdXVVVVVXd1V1dXV3d3d3VXV3VVd3d3dVdXV1d3d3d1V3d1dXV3d3VXd1VXdXd3dVd3dXV1d3d1V3dVVXV3d3VXd3d3d3d3dVd3d3d3d3d1V1VVVVVVVXV3d3d3d3d3dw==",
        "mimeType": "image/x-mkcd-f4",
        "tilemapTile": true
    },
    "tile4": {
        "data": "hwQQABAAAABERERERERERFRVVVVVVVVFVEREREREREVURFRFRERERVRERVRERERFVFRVVUVEREVUVFVVVURFRVRUVVVVVUVFVFRVVVVVRUVUVFVVVURFRVRUVVVFRERFVERFVEREREVURFRFRERERVRERERERERFVFVVVVVVVUVERERERERERA==",
        "mimeType": "image/x-mkcd-f4",
        "tilemapTile": true
    },
    "tile5": {
        "data": "hwQQABAAAACqqqqqqqqqqrq7u7u7u7uruqqqqqqqqqu6qqqqqqqqq7qqqqqqqqqruqqqqqqqqqu6qrurqqqqq7q6u7u7uqururq7u7u6q6u6qrurqqqqq7qqqqqqqqqruqqqqqqqqqu6qqqqqqqqq7qqqqqqqqqruru7u7u7u6uqqqqqqqqqqg==",
        "mimeType": "image/x-mkcd-f4",
        "tilemapTile": true
    },
    "level": {
        "id": "level",
        "mimeType": "application/mkcd-tilemap",
        "data": "MTAxZTAwMGEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA0MDAwMDAwMDAwMDAwMDQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAzMDAwMDAwMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMTAxMDEwMDAwMDEwMDAwMDUwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEwMTAxMDEwMTAxMDEwMTAxMDEwMDAwMDAwMDAwMDUwMDAwMDAwMDAwMDUwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyMDAwMDIwMDAwMDAwMDAwMDAwMDAwMDIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjIwMjIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDIwMjIyMjIyMjIwMjAwMDAwMDAwMDAyMDIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMg==",
        "tileset": [
            "myTiles.transparency16",
            "myTiles.tile1",
            "myTiles.tile3",
            "myTiles.tile4",
            "myTiles.tile5",
            "myTiles.tile2"
        ]
    },
    "*": {
        "mimeType": "image/x-mkcd-f4",
        "dataEncoding": "base64",
        "namespace": "myTiles"
    }
}
```

```template
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.vy = -200
})
let mySprite: Sprite = null
scene.setBackgroundColor(11)
mySprite = sprites.create(img`
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
    3 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 1 1 1 3 3 3 1 3 3 3 1 3
    3 1 3 3 1 3 3 1 3 1 1 3 3 3 1 3
    3 1 3 3 1 3 3 1 3 3 1 3 3 3 1 3
    3 1 3 3 1 1 1 3 3 3 1 3 3 3 1 3
    3 1 3 3 1 3 3 3 3 3 1 3 3 3 1 3
    3 1 3 3 1 3 3 3 3 1 1 1 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
    `, SpriteKind.Player)
mySprite.ay = 500
controller.moveSprite(mySprite, 100, 0)
tiles.setTilemap(tilemap`level`)
```

##  B·∫Øt ƒë·∫ßu @unplugged


Trong h∆∞·ªõng d·∫´n n√†y, ch√∫ng ta s·∫Ω t·∫°o c√°ch ƒë·ªÉ chi·∫øn th·∫Øng ho·∫∑c thua trong tr√≤ ch∆°i platformer.

![Editing our platformer](/static/skillmaps/platformer/platformer2.gif "Time to live dangerously!")


## Camera


D√†nh m·ªôt ch√∫t th·ªùi gian ƒë·ªÉ di chuy·ªÉn sprite ng∆∞·ªùi ch∆°i tr√™n game .

Hi·ªán t·∫°i, m√°y m√†n h√¨nh kh√¥ng di chuy·ªÉn theo khi ng∆∞·ªùi ch∆°i di chuy·ªÉn ra kh·ªèi m√†n h√¨nh.
Ch√∫ng ta c√≥ th·ªÉ s·ª≠a l·ªói ƒë√≥!

<hr/>

üî≤ K√©o ``||scene:camera follow sprite [mySprite]||`` v√†o ph·∫ßn cu·ªëi c·ªßa kh·ªëi  ``||loops:on start||`` .
<br/>

```blocks
let mySprite: Sprite = null
scene.setBackgroundColor(11)
mySprite = sprites.create(img`
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
    3 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 1 1 1 3 3 3 1 3 3 3 1 3
    3 1 3 3 1 3 3 1 3 1 1 3 3 3 1 3
    3 1 3 3 1 3 3 1 3 3 1 3 3 3 1 3
    3 1 3 3 1 1 1 3 3 3 1 3 3 3 1 3
    3 1 3 3 1 3 3 3 3 3 1 3 3 3 1 3
    3 1 3 3 1 3 3 3 3 1 1 1 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
    `, SpriteKind.Player)
mySprite.ay = 500
controller.moveSprite(mySprite, 100, 0)
tiles.setTilemap(tilemap`level`)
// @highlight
scene.cameraFollowSprite(mySprite)
```

## V·ªã tr√≠ b·∫Øt ƒë·∫ßu


üé• B√¢y gi·ªù ch√∫ng ta c√≥ th·ªÉ di chuy·ªÉn xung quanh v√† m√†n h√¨nh s·∫Ω theo sau nh√¢n v·∫≠t ch√≠nh üé•

Th·∫≠t kh√¥ng may, ng∆∞·ªùi ch∆°i c·ªßa ch√∫ng ta ƒëang b·∫Øt ƒë·∫ßu ·ªü v·ªã tr√≠ nguy hi·ªÉm!

Th√¥ng th∆∞·ªùng, t·∫•t c·∫£ c√°c sprite s·∫Ω xu·∫•t hi·ªán ·ªü gi·ªØa m√†n h√¨nh.
H√£y thay ƒë·ªïi v·ªã tr√≠ ƒë·ªÉ ng∆∞·ªùi ch∆°i c·ªßa b·∫°n b·∫Øt ƒë·∫ßu t·ª´ m·ªôt n∆°i an to√†n.

<hr/>

üî≤ K√©o m·ªôt kh·ªëi ``||scene:place [mySprite] on top of random [ ]||`` v√†o d∆∞·ªõi c√πng c·ªßa kh·ªëi  ``||loops:on start||``.


üî≤ Nh·∫•p v√†o √¥ m√†u x√°m v√† thay th·∫ø n√≥ b·∫±ng v·ªã tr√≠ m·ªõi c√≥ h√¨nh c·ªù xanh.
<hr/>

**B√¢y gi·ªù sprite c·ªßa b·∫°n b·∫Øt ƒë·∫ßu tr√™n √¥ c·ªù xanh!**  

>> *M·∫πo: N·∫øu b·∫°n mu·ªën sprite c·ªßa m√¨nh b·∫Øt ƒë·∫ßu ·ªü m·ªôt n∆°i kh√°c,
b·∫°n c√≥ th·ªÉ di chuy·ªÉn c·ªù xanh b·∫±ng c√°ch ch·ªânh s·ª≠a
[__tilemap__](#tilemp "b·∫£n ƒë·ªì c·ªßa tr√≤ ch∆°i").

```blocks
let mySprite: Sprite = null
scene.setBackgroundColor(11)
mySprite = sprites.create(img`
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
    3 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 1 1 1 3 3 3 1 3 3 3 1 3
    3 1 3 3 1 3 3 1 3 1 1 3 3 3 1 3
    3 1 3 3 1 3 3 1 3 3 1 3 3 3 1 3
    3 1 3 3 1 1 1 3 3 3 1 3 3 3 1 3
    3 1 3 3 1 3 3 3 3 3 1 3 3 3 1 3
    3 1 3 3 1 3 3 3 3 1 1 1 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 3 3 3 3 3 3 3 3 3 3 3 3 1 3
    3 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
    `, SpriteKind.Player)
mySprite.ay = 500
controller.moveSprite(mySprite, 100, 0)
tiles.setTilemap(tilemap`level`)
scene.cameraFollowSprite(mySprite)
// @highlight
tiles.placeOnRandomTile(mySprite, myTiles.tile3)
```

## K·∫øt Th√∫c Tr√≤ Ch∆°i Ph·∫ßn 1

üíÄ ƒê·∫øn l√∫c th√™m m·ªôt ch√∫t **nguy hi·ªÉm** v√†o tr√≤ ch∆°i n√†y üíÄ 

Khi ng∆∞·ªùi ch∆°i tr√®o l√™n √¥ h√¨nh h·ªôp s·ªç, ch√∫ng ta s·∫Ω k√≠ch ho·∫°t m·ªôt "GAME OVER".
<hr/>


üî≤ K√©o kh·ªëi ``||scene:on [sprite] of kind [Player] overlaps [ ] at [location]||`` v√†o m√†n h√¨nh ch√≠nh.

üî≤ Nh·∫•p v√†o h√¨nh √¥ c·ªù v√† thay ƒë·ªïi n√≥ th√†nh √¥ h√¨nh s·ªç.

üî≤ K√©o m·ªôt kh·ªëi ``||game:game over <LOSE>||`` v√†o kh·ªëi m·ªõi v√† chuy·ªÉn c√¥ng t·∫Øc th√†nh **LOSE**.
<br/>

```blocks
scene.onOverlapTile(SpriteKind.Player, myTiles.tile2, function (sprite, location) {
    game.over(false)
})
```

## B·∫°n Chi·∫øn Th·∫Øng Ph·∫ßn 1

üéà Ch√∫ng ta c√≥ c√°ch ƒë·ªÉ thua, h√£y t·∫°o th√™m c√°ch ƒë·ªÉ chi·∫øn th·∫Øng üéà  
<hr/>

üî≤ K√©o m·ªôt kh·ªëi  ``||scene:on [sprite] of kind [Player] overlaps [ ] at [location]||`` 
tr√™n m√†n h√¨nh ch√≠nh.

üî≤ L·∫ßn n√†y, thay ƒë·ªïi √¥ c·ªù th√†nh √¥ h√¨nh chi·∫øc c√∫p.

üî≤ K√©o m·ªôt kh·ªëi ``||game:game over <LOSE>||`` v√†o kh·ªëi m·ªõi v√† chuy·ªÉn c√¥ng t·∫Øc th√†nh **WIN**.
<br/>
<br/>

```blocks
scene.onOverlapTile(SpriteKind.Player, myTiles.tile4, function (sprite, location) {
    game.over(true)
})
```

## Ho√†n Th√†nh

ƒê√≥ l√† t·∫•t c·∫£!

B√¢y gi·ªù ch√∫ng ta c√≥ m·ªôt tr√≤ ch∆°i platformer ƒë∆°n gi·∫£n c√≥ c√°ch ƒë·ªÉ th·∫Øng v√† c√°ch ƒë·ªÉ thua.

N·∫øu b·∫°n mu·ªën, h√£y m·ªü b·∫£n ƒë·ªì [__tilemap__](#tilemp "b·∫£n ƒë·ªì ")
v√† thi·∫øt k·∫ø b·∫£n ƒë·ªì cho tr√≤ ch∆°i ri√™ng c·ªßa b·∫°n.

